import{u as P,r as o,E as Q,b as W,h as _,c as v,d as u,x as X,w as R,f as l,L as Y,g as c,e as d,t as p,n as m,k as $,j as q}from"./index-c8ed3a98.js";const Z={class:"flex justify-center"},ee=["onSubmit"],te={class:"w-full flex justify-between"},ae=l("h2",{class:"text-xl font-bold"}," Create attracives ",-1),le={class:""},se=l("label",{for:"password"},"Name ",-1),oe={key:0,class:"mt-1 mb-5 text-red-500"},ne={class:""},ue=l("label",{for:"password"},"description ",-1),de={key:0,class:"mt-1 mb-5 text-red-500"},ie={class:""},ce=l("label",{for:"password"},"lang ",-1),re={key:0,class:"mt-1 mb-5 text-red-500"},me={class:""},ve=l("label",{for:"password"},"late ",-1),pe={key:0,class:"mt-1 mb-5 text-red-500"},_e={class:"flex justify-center my-5"},fe={class:"flex justify-between mt-4 w-[80%]"},be={class:"flex items-center"},ge=l("label",{class:"mx-2"},"country",-1),ye={key:0,class:"mt-1 mb-5 text-red-500"},xe=l("label",{class:"mx-2"},"state ",-1),he={key:0,class:"mt-1 mb-5 text-red-500"},we=l("label",{class:"py-2"},"upload images",-1),Ve=["src"],ke=["src"],Ue={key:0,class:"mt-1 mb-5 text-red-500"},je={setup(Se){const j=P(),n=o({name:"",description:"",long:"",lat:"",images:[],aval_status:!0,info_status:!0}),x=o(""),V=o([]),k=o(""),U=o([]),h=o(0),B=o(""),S=o([]),i=o({}),a=o("");o(0),o(0);const f=o([]),O=o([{name:"en",value:"gb"},{name:"ar",value:"sa"},{name:"az",value:"az"},{name:"ge",value:"ge"},{name:"ru",value:"ru"},{name:"tr",value:"tr"}]),b=o("gb"),A=t=>{console.log(t.files[0]),f.value=t.files,B.value=t.files;for(let e=0;e<f.value.length;e++)S.value.push(URL.createObjectURL(f.value[e]));console.log(S.value)},G=()=>{const t=new FormData;for(let e=0;e<f.value.length;e++)t.append("images[]",f.value[e]);t.append("name",n.value.name),t.append("description",n.value.description),t.append("country_id",x.value),t.append("state_id",k.value),t.append("long",n.value.long),t.append("lat",n.value.lat),h.value?(_.defaults.headers.common.local=b.value,_.post(`/api/attracives/${i.value.id}/update`,t).then(e=>{a.value=[],h.value=1,i.value=e.data.attracives,j.add({severity:"success",summary:"Successful",detail:"attracives Created",life:3e3})}).catch(e=>{a.value=e.response.data.errors,console.log(a.value)})):(_.defaults.headers.common.local=b.value,_.post("/api/attracives/create",t).then(e=>{a.value=[],h.value=1,i.value=e.data.attracives,j.add({severity:"success",summary:"Successful",detail:"attracives Created",life:3e3})}).catch(e=>{a.value=e.response.data.errors,console.log(a.value)}))};return Q(b,async(t,e)=>{var r,g,y,w;console.log(i.value),h.value&&(n.value.name=((r=i.value)==null?void 0:r.name[t])==null?"":(g=i.value)==null?void 0:g.name[t],n.value.description=((y=i.value)==null?void 0:y.description[t])==null?"":(w=i.value)==null?void 0:w.description[t])}),Q(x,async(t,e)=>{console.log("hello "),_.get(`/api/state/${t}`).then(r=>{V.value=r.data.states,console.log(V.value)})}),W(()=>{_.get("/api/countries").then(t=>{U.value=t.data.countries,console.log(U.value)})}),(t,e)=>{const r=v("Dropdown"),g=v("InputText"),y=v("InputNumber"),w=v("FileUpload"),H=v("Button"),J=v("Toast"),K=v("va-card");return u(),X(K,{class:"card"},{default:R(()=>{var C,N,F,T,D,I,E;return[l("div",Z,[l("form",{onSubmit:Y(G,["prevent"]),class:"flex flex-col w-3/4 py-9"},[l("div",te,[ae,c(r,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),editable:"",options:O.value,optionLabel:"name","option-value":"value",class:"w-28 mx-3"},null,8,["modelValue","options"])]),l("div",le,[se,c(g,{modelValue:n.value.name,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.name=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(C=a.value)!=null&&C.name?(u(),d("div",oe,p(a.value.name[0]),1)):m("",!0)]),l("div",ne,[ue,c(g,{modelValue:n.value.description,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.description=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(N=a.value)!=null&&N.description?(u(),d("div",de,p(a.value.description[0]),1)):m("",!0)]),l("div",ie,[ce,c(y,{modelValue:n.value.long,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.long=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(F=a.value)!=null&&F.long?(u(),d("div",re,p(a.value.long[0]),1)):m("",!0)]),l("div",me,[ve,c(y,{modelValue:n.value.lat,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.lat=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(T=a.value)!=null&&T.lat?(u(),d("div",pe,p(a.value.lat[0]),1)):m("",!0)]),l("div",_e,[l("div",fe,[l("div",be,[l("div",null,[ge,c(r,{modelValue:x.value,"onUpdate:modelValue":e[5]||(e[5]=s=>x.value=s),editable:"",options:U.value,optionLabel:"country","option-value":"country_id",class:"w-48 mx-3 mx-10"},null,8,["modelValue","options"]),(D=a.value)!=null&&D.country_id?(u(),d("div",ye,p(a.value.country_id[0]),1)):m("",!0)]),l("div",null,[xe,c(r,{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=s=>k.value=s),editable:"",options:V.value,optionLabel:"state","option-value":"state_id",class:"w-48 mx-3 mx-10"},null,8,["modelValue","options"]),(I=a.value)!=null&&I.city_id?(u(),d("div",he,p(a.value.city_id[0]),1)):m("",!0)])])])]),we,c(w,{id:"password",onUploader:A,accept:"image/*",required:"true",multiple:"true","custom-upload":!0,autofocus:""},{empty:R(()=>{var s,z,M;return[B.value.value!=""?(u(!0),d(q,{key:0},$(S.value,L=>(u(),d("img",{src:L,class:"w-[200px] h-[90px] mb-3"},null,8,Ve))),256)):(z=(s=i.value)==null?void 0:s.media)!=null&&z.length?(u(!0),d(q,{key:1},$((M=i.value)==null?void 0:M.media,L=>(u(),d("img",{src:L.original_url,class:"w-[200px] h-[90px] mb-3"},null,8,ke))),256)):m("",!0)]}),_:1}),(E=a.value)!=null&&E.images?(u(),d("div",Ue,p(a.value.images[0]),1)):m("",!0),c(H,{style:"",type:"submit",label:"Submit",class:"mt-3 focus:ring-0"})],40,ee)]),c(J)]}),_:1})}}};export{je as default};
