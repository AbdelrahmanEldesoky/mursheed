import{u as G,r as d,B as H,E as J,b as K,h as w,c as v,d as u,x as P,w as I,f as l,L as W,g as c,e as i,t as p,n as r,k as E,j as R}from"./index-c8ed3a98.js";const X={class:"flex justify-center"},Y=["onSubmit"],Z={class:"w-full flex justify-between"},ee=l("h2",{class:"text-xl font-bold"}," update attracives ",-1),te={class:""},ae=l("label",{for:"password"},"Name ",-1),le={key:0,class:"mt-1 mb-5 text-red-500"},oe={class:""},se=l("label",{for:"password"},"description ",-1),ne={key:0,class:"mt-1 mb-5 text-red-500"},ue={class:"flex w-full justify-between"},de={class:"w-[48%]"},ie=l("label",{for:"password"},"country id ",-1),ce={key:0,class:"mt-1 mb-5 text-red-500"},re={class:"w-[48%]"},me=l("label",{for:"password"},"city ",-1),ve={key:0,class:"mt-1 mb-5 text-red-500"},pe={class:""},_e=l("label",{for:"password"},"lang ",-1),ye={key:0,class:"mt-1 mb-5 text-red-500"},fe={class:""},be=l("label",{for:"password"},"late ",-1),ge={key:0,class:"mt-1 mb-5 text-red-500"},xe=l("label",null,"upload images",-1),he=["src"],we=["src"],Ve={key:0,class:"mt-1 mb-5 text-red-500"},Se={setup(ke){const V=G(),a=d({name:"",description:"",country_id:"",city_id:"",long:"",lat:"",images:[]}),k=H(),z=d(0),U=d(""),x=d([]),o=d(""),n=d({});d(0),d(0);const f=d([]),M=d([{name:"en",value:"gb"},{name:"ar",value:"sa"},{name:"az",value:"az"},{name:"ge",value:"ge"},{name:"ru",value:"ru"},{name:"tr",value:"tr"}]),_=d("gb"),$=e=>{console.log(e.files[0]),f.value=e.files,U.value=e.files;for(let t=0;t<f.value.length;t++)x.value.push(URL.createObjectURL(f.value[t]));console.log(x.value)},q=()=>{const e=new FormData;for(let t=0;t<f.value.length;t++)e.append("images[]",f.value[t]);e.append("name",a.value.name),e.append("description",a.value.description),e.append("country_id",a.value.country_id),e.append("city_id",a.value.city_id),e.append("long",a.value.long),e.append("lat",a.value.lat),w.defaults.headers.common.local=_.value,w.post(`/api/attracives/${n.value.id}/update`,e).then(t=>{o.value=[],z.value=1;let y=n.value.media;n.value=t.data.attractives,n.value.media=y,V.add({severity:"success",summary:"Successful",detail:"attracives  Created",life:3e3})}).catch(t=>{o.value=t.response.data.errors,console.log(o.value)})};return J(_,async(e,t)=>{var y,b,m,g;console.log(n.value),a.value.name=((y=n.value)==null?void 0:y.name[e])==null?"":(b=n.value)==null?void 0:b.name[e],a.value.description=((m=n.value)==null?void 0:m.description[e])==null?"":(g=n.value)==null?void 0:g.description[e]}),K(()=>{console.log(k.params.id),w.get(`/api/attracives/${k.params.id}`).then(e=>{console.log(e),a.value.name=e.data.attracive.name[_.value],a.value.description=e.data.attracive.description[_.value],a.value.country_id=e.data.attracive.country_id,a.value.city_id=e.data.attracive.city_id,a.value.long=e.data.attracive.long,a.value.lat=e.data.attracive.lat,n.value=e.data.attracive,V.add({severity:"success",summary:"Successful",detail:"attracives Created",life:3e3})})}),(e,t)=>{const y=v("Dropdown"),b=v("InputText"),m=v("InputNumber"),g=v("FileUpload"),O=v("Button"),Q=v("Toast"),A=v("va-card");return u(),P(A,{class:"card"},{default:I(()=>{var S,B,N,j,C,F,L;return[l("div",X,[l("form",{onSubmit:W(q,["prevent"]),class:"flex flex-col w-3/4 py-9"},[l("div",Z,[ee,c(y,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),editable:"",options:M.value,optionLabel:"name","option-value":"value",class:"w-28 mx-3"},null,8,["modelValue","options"])]),l("div",te,[ae,c(b,{modelValue:a.value.name,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(S=o.value)!=null&&S.name?(u(),i("div",le,p(o.value.name[0]),1)):r("",!0)]),l("div",oe,[se,c(b,{modelValue:a.value.description,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.description=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(B=o.value)!=null&&B.description?(u(),i("div",ne,p(o.value.description[0]),1)):r("",!0)]),l("div",ue,[l("div",de,[ie,c(m,{modelValue:a.value.country_id,"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.country_id=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(N=o.value)!=null&&N.country_id?(u(),i("div",ce,p(o.value.country_id[0]),1)):r("",!0)]),l("div",re,[me,c(m,{modelValue:a.value.city_id,"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.city_id=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(j=o.value)!=null&&j.city_id?(u(),i("div",ve,p(o.value.city_id[0]),1)):r("",!0)])]),l("div",pe,[_e,c(m,{modelValue:a.value.long,"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.long=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(C=o.value)!=null&&C.long?(u(),i("div",ye,p(o.value.long[0]),1)):r("",!0)]),l("div",fe,[be,c(m,{modelValue:a.value.lat,"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.lat=s),type:"text",class:"mt-3 w-full mb-3"},null,8,["modelValue"]),(F=o.value)!=null&&F.lat?(u(),i("div",ge,p(o.value.lat[0]),1)):r("",!0)]),l("div",null,[xe,c(g,{id:"password",onUploader:$,accept:"image/*",required:"true",multiple:"true","custom-upload":!0,autofocus:""},{empty:I(()=>{var s,T,D;return[U.value.value!=""?(u(!0),i(R,{key:0},E(x.value,h=>(u(),i("img",{src:h,class:"w-[200px] h-[90px] mb-3"},null,8,he))),256)):(T=(s=n.value)==null?void 0:s.media)!=null&&T.length?(u(!0),i(R,{key:1},E((D=n.value)==null?void 0:D.media,h=>(u(),i("img",{src:h.original_url,class:"w-[200px] h-[90px] mb-3"},null,8,we))),256)):r("",!0)]}),_:1}),(L=o.value)!=null&&L.images?(u(),i("div",Ve,p(o.value.images[0]),1)):r("",!0)]),c(O,{style:"",type:"submit",label:"Submit",class:"mt-3 focus:ring-0"})],40,Y)]),c(Q)]}),_:1})}}};export{Se as default};
