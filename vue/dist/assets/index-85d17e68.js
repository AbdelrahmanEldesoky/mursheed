import{u as Z,a as ee,r as i,o as le,b as te,F as ae,c as d,d as c,e as m,f as s,g as t,w as n,h as D,i as g,t as N,A as h,n as v}from"./index-c8ed3a98.js";const se={class:"grid"},oe={class:"col-12"},ie={class:"my-2"},ne={class:"flex flex-column md:flex-row md:justify-between md:align-items-center"},ue=s("h5",{class:"m-0"},"Manage Offer",-1),de={class:"block mt-2 md:mt-0 p-input-icon-left"},re=s("i",{class:"pi pi-search"},null,-1),ce={class:"field mb-5"},me=s("label",{for:"first"},"first name ",-1),ve={key:0,class:"p-invalid"},pe={class:"field mb-5"},fe=s("label",{for:"last"},"last name ",-1),_e={key:0,class:"p-invalid"},be={class:"field mb-5"},he=s("label",{for:"email",class:"mb-3"},"email ",-1),ge={key:0,class:"p-invalid"},ye={class:"field mb-5"},we=s("label",{for:"password",class:"mb-3"},"password ",-1),ke={key:0,class:"p-invalid"},Ce={class:"field mb-5"},xe=s("label",{for:"mobile",class:"mb-3"},"mobile",-1),Ve={key:0,class:"p-invalid"},Se={class:"flex align-items-center justify-content-center"},Te=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),De={key:0},Ne=g("Are you sure you want to delete "),Ue=g("?"),Me={class:"flex align-items-center justify-content-center"},Pe=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),qe={key:0},Ae={setup(Le){const _=Z(),M=ee(),P=i(null),q=i(null),L=i([{name:"en",value:"gb"},{name:"ar",value:"sa"},{name:"az",value:"az"},{name:"ge",value:"ge"},{name:"ru",value:"ru"},{name:"tr",value:"tr"}]),y=i("gb"),w=i(!0),l=i({});i(null);const k=i(!1),b=i(!1),C=i(!1),O=i({}),x=i(null),A=i(null),V=i({}),u=i(!1);i([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),le(()=>{Y()});const S=()=>{D.get("/api/offers").then(o=>{w.value=!1,q.value=o.data.offers})};te(()=>{S()});const B=()=>{console.log(y.value)},F=()=>{M.push({name:"offer-create"})},$=o=>{switch(o.status){case 1:return"success";case-1:return"warning";case 0:return"danger";default:return null}},z=()=>{k.value=!1,u.value=!1},I=()=>{u.value=!0,!(!l.value.first_name||!l.value.last_name||!l.value.email||!l.value.mobile_number)&&(l.value.id?(D.post(`/api/accommodition/${accommodition.value.id}/update`,l.value).then(o=>{console.log(o.data),S(),_.add({severity:"success",summary:"Successful",detail:"user updated",life:3e3})}).catch(()=>{}),_.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):D.post("/api/users/create",l.value).then(o=>{console.log(o.data),S(),_.add({severity:"success",summary:"Successful",detail:"user Created",life:3e3})}).catch(()=>{}),k.value=!1,l.value={})},R=o=>{l.value={...o},M.push({name:"offer-update",params:{id:l.value.id}})},j=o=>{l.value=o,b.value=!0},K=()=>{w.value=!0,D.delete(`/api/offers/${l.value.id}/delete`).then(o=>{console.log(o.data),b.value=!1,S(),w.value=!1,_.add({severity:"success",summary:"Successful",detail:"offer deleted",life:3e3})}).catch(()=>{})},E=()=>{P.value=P.value.filter(o=>!x.value.includes(o)),C.value=!1,x.value=null,_.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},Y=()=>{V.value={global:{value:null,matchMode:ae.CONTAINS}}};return(o,a)=>{const r=d("Button"),W=d("Dropdown"),G=d("Toolbar"),H=d("Toast"),p=d("InputText"),f=d("Column"),J=d("Tag"),Q=d("DataTable"),U=d("Dialog"),X=d("va-card");return c(),m("div",se,[s("div",oe,[t(X,{class:"card"},{default:n(()=>[t(G,{class:"mb-4"},{start:n(()=>[s("div",ie,[t(r,{label:"New",icon:"pi pi-plus",class:"new mr-2",onClick:F})])]),end:n(()=>[t(W,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),onClick:B,editable:"",options:L.value,optionLabel:"name","option-value":"value",class:"w-48 mx-3"},null,8,["modelValue","options"])]),_:1}),t(H),t(Q,{ref_key:"dt",ref:A,selection:x.value,"onUpdate:selection":a[2]||(a[2]=e=>x.value=e),value:q.value,loading:w.value,"data-key":"id",paginator:!0,rows:10,filters:V.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[s("div",ne,[ue,s("span",de,[re,t(p,{modelValue:V.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[t(f,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(f,{field:"number",header:"Offer Number",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>{var T;return[g(N((T=e.data)==null?void 0:T.number),1)]}),_:1}),t(f,{field:"title",header:"title",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[g(N(e.data.title[y.value]),1)]),_:1}),t(f,{field:"price",header:"price",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[g(N(e.data.price),1)]),_:1}),t(f,{field:"status",header:"Status",sortable:!0,"header-style":"width:14%; min-width:10rem;"},{body:n(e=>[t(J,{value:e.data.status==1?"Active":e.data.status==0?"In Active":"pending",severity:$(e.data)},null,8,["value","severity"])]),_:1}),t(f,{"header-style":"min-width:10rem;"},{body:n(e=>[t(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:T=>R(e.data)},null,8,["onClick"]),t(r,{icon:"pi pi-trash",class:"delete mt-2",onClick:T=>j(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(U,{visible:k.value,"onUpdate:visible":a[8]||(a[8]=e=>k.value=e),style:{width:"450px"},header:"users form",modal:!0,class:"p-fluid"},{footer:n(()=>[t(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:z}),t(r,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:I})]),default:n(()=>[s("div",ce,[me,t(p,{class:h(["mt-3",{"p-invalid":u.value&&!l.value.first_name}]),id:"first",modelValue:l.value.first_name,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.first_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.first_name?(c(),m("small",ve,"First Name is required.")):v("",!0)]),s("div",pe,[fe,t(p,{class:h(["mt-3",{"p-invalid":u.value&&!l.value.last_name}]),id:"last",modelValue:l.value.last_name,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.last_name=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.last_name?(c(),m("small",_e,"Last Name is required.")):v("",!0)]),s("div",be,[he,t(p,{class:h(["mt-3",{"p-invalid":u.value&&!l.value.email}]),id:"email",modelValue:l.value.email,"onUpdate:modelValue":a[5]||(a[5]=e=>l.value.email=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.email?(c(),m("small",ge,"Email is required.")):v("",!0)]),s("div",ye,[we,t(p,{class:h(["mt-3",{"p-invalid":u.value&&!l.value.password}]),id:"password",modelValue:l.value.password,"onUpdate:modelValue":a[6]||(a[6]=e=>l.value.password=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.password?(c(),m("small",ke,"password is required.")):v("",!0)]),s("div",Ce,[xe,t(p,{class:h(["mt-3",{"p-invalid":u.value&&!l.value.mobile_number}]),id:"mobile",modelValue:l.value.mobile_number,"onUpdate:modelValue":a[7]||(a[7]=e=>l.value.mobile_number=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue","class"]),u.value&&!l.value.mobile_number?(c(),m("small",Ve,"mobile is required.")):v("",!0)])]),_:1},8,["visible"]),t(U,{visible:b.value,"onUpdate:visible":a[10]||(a[10]=e=>b.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[t(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[9]||(a[9]=e=>b.value=!1)}),t(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:K})]),default:n(()=>[s("div",Se,[Te,l.value?(c(),m("span",De,[Ne,s("b",null,N(l.value.first_name),1),Ue])):v("",!0)])]),_:1},8,["visible"]),t(U,{visible:C.value,"onUpdate:visible":a[12]||(a[12]=e=>C.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[t(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[11]||(a[11]=e=>C.value=!1)}),t(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:E})]),default:n(()=>[s("div",Me,[Pe,O.value?(c(),m("span",qe,"Are you sure you want to delete the selected products?")):v("",!0)])]),_:1},8,["visible"])]),_:1})])])}}};export{Ae as default};
